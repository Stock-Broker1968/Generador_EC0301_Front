<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carta Descriptiva EC0301 - SkillsCert</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/docx@7.8.0/build/index.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        .header {
            background-color: #4CAF50;
            padding: 20px;
            text-align: center;
            color: white;
        }
        .header h1 {
            margin: 0;
        }
        .section {
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
        }
        .section-title {
            font-size: 1.5em;
            margin-bottom: 10px;
        }
        .form-group {
            margin-bottom: 10px;
        }
        label {
            display: block;
            font-weight: bold;
        }
        input, textarea, select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Carta Descriptiva EC0301 - SkillsCert</h1>
        <p>Guía para la planeación de cursos en línea.</p>
    </header>

    <main>
        <!-- Información General -->
        <section class="section">
            <h2 class="section-title">1. Información General del Curso</h2>
            <div class="form-group">
                <label for="course_name">Nombre del Curso/Taller</label>
                <input type="text" id="course_name" placeholder="Ej: Curso de Prevención de Lavado de Dinero">
            </div>
            <div class="form-group">
                <label for="course_duration">Duración total (horas)</label>
                <input type="number" id="course_duration" placeholder="Ej: 2 horas">
            </div>
            <div class="form-group">
                <label for="instructor_name">Nombre del Facilitador/Instructor</label>
                <input type="text" id="instructor_name" placeholder="Ej: Roberto Azpiri García">
            </div>
            <div class="form-group">
                <label for="course_location">Lugar de Instrucción</label>
                <input type="text" id="course_location" placeholder="Ej: Insurgentes Sur No. 700, CDMX">
            </div>
            <div class="form-group">
                <label for="course_date">Fecha(s)</label>
                <input type="date" id="course_date">
            </div>
            <div class="form-group">
                <label for="course_modalidad">Modalidad del Curso</label>
                <select id="course_modalidad" required>
                    <option value="">Seleccione una opción...</option>
                    <option value="presencial">Presencial</option>
                    <option value="hibrido">Híbrido (Presencial y Línea)</option>
                    <option value="enlinea">En línea Síncrono</option>
                </select>
            </div>
        </section>

        <!-- Perfil del Participante -->
        <section class="section">
            <h2 class="section-title">2. Perfil del Participante</h2>
            <div class="form-group">
                <label for="participant_profile">Descripción del Perfil del Participante</label>
                <textarea id="participant_profile" placeholder="Ej: El curso está dirigido a personal de nuevo ingreso..."></textarea>
            </div>
            <div class="form-group">
                <label for="num_participants">Número de Participantes</label>
                <input type="number" id="num_participants" placeholder="Ej: 4">
            </div>
        </section>

        <!-- Objetivos de Aprendizaje -->
        <section class="section">
            <h2 class="section-title">3. Objetivos de Aprendizaje</h2>
            <div class="form-group">
                <label for="general_objective">Objetivo General</label>
                <textarea id="general_objective" placeholder="Ej: Al finalizar el curso, el participante identificará y explicará las principales normativas..."></textarea>
            </div>

            <div class="form-group">
                <label for="specific_objective">Objetivos Específicos</label>
                <textarea id="specific_objective" placeholder="Ej: El participante aplicará los procedimientos internos para la detección..."></textarea>
            </div>
        </section>

        <!-- Evaluación -->
        <section class="section">
            <h2 class="section-title">4. Evaluación</h2>
            <div class="form-group">
                <label for="diagnostic_evaluation">Evaluación Diagnóstica</label>
                <input type="number" id="diagnostic_evaluation" placeholder="Ej: 10%">
            </div>
            <div class="form-group">
                <label for="formative_evaluation">Evaluación Formativa</label>
                <input type="number" id="formative_evaluation" placeholder="Ej: 50%">
            </div>
            <div class="form-group">
                <label for="summative_evaluation">Evaluación Sumativa</label>
                <input type="number" id="summative_evaluation" placeholder="Ej: 40%">
            </div>
            <div class="form-group">
                <label for="satisfaction_evaluation">Evaluación de Satisfacción</label>
                <input type="number" id="satisfaction_evaluation" placeholder="Ej: 0%">
            </div>
        </section>

        <!-- Actividades -->
        <section class="section">
            <h2 class="section-title">5. Actividades del Curso</h2>
            <div class="form-group">
                <label for="opening_activity">Actividades de Apertura</label>
                <textarea id="opening_activity" placeholder="Ej: Presentación del instructor y participantes..."></textarea>
            </div>
            <div class="form-group">
                <label for="development_activity">Actividades de Desarrollo</label>
                <textarea id="development_activity" placeholder="Ej: Desarrollo del contenido con ejemplos..."></textarea>
            </div>
            <div class="form-group">
                <label for="closing_activity">Actividades de Cierre</label>
                <textarea id="closing_activity" placeholder="Ej: Evaluación sumativa y cierre..."></textarea>
            </div>
        </section>

        <!-- Requerimientos -->
        <section class="section">
            <h2 class="section-title">6. Requerimientos del Curso</h2>
            <div class="form-group">
                <label for="space_requirements">Requerimientos en Instalaciones</label>
                <textarea id="space_requirements" placeholder="Ej: Salón o aula para 4 personas..."></textarea>
            </div>
            <div class="form-group">
                <label for="equipment_requirements">Requerimientos en Equipo</label>
                <textarea id="equipment_requirements" placeholder="Ej: Laptop, proyector, etc..."></textarea>
            </div>
            <div class="form-group">
                <label for="material_requirements">Requerimientos en Materiales de Apoyo</label>
                <textarea id="material_requirements" placeholder="Ej: Formatos, casos prácticos..."></textarea>
            </div>
            <div class="form-group">
                <label for="human_resources">Requerimientos en Recursos Humanos</label>
                <textarea id="human_resources" placeholder="Ej: Instructor certificado en PLD/FT..."></textarea>
            </div>
            <div class="form-group">
                <label for="health_requirements">Material y equipo para medidas de salud</label>
                <textarea id="health_requirements" placeholder="Ej: Gel antibacterial, señalización de rutas..."></textarea>
            </div>
        </section>

        <!-- Botones de acción -->
        <div>
            <button id="save_button">Guardar</button>
            <button id="generate_pdf">Generar PDF</button>
        </div>
    </main>

    <script>
        // Función para guardar los datos
        document.getElementById('save_button').addEventListener('click', function() {
            let courseName = document.getElementById('course_name').value;
            let courseDuration = document.getElementById('course_duration').value;
            let instructorName = document.getElementById('instructor_name').value;
            let courseLocation = document.getElementById('course_location').value;
            let courseDate = document.getElementById('course_date').value;

            let participantProfile = document.getElementById('participant_profile').value;
            let numParticipants = document.getElementById('num_participants').value;

            let generalObjective = document.getElementById('general_objective').value;
            let specificObjective = document.getElementById('specific_objective').value;

            let diagnosticEval = document.getElementById('diagnostic_evaluation').value;
            let formativeEval = document.getElementById('formative_evaluation').value;
            let summativeEval = document.getElementById('summative_evaluation').value;
            let satisfactionEval = document.getElementById('satisfaction_evaluation').value;

            let openingActivity = document.getElementById('opening_activity').value;
            let developmentActivity = document.getElementById('development_activity').value;
            let closingActivity = document.getElementById('closing_activity').value;

            let spaceRequirements = document.getElementById('space_requirements').value;
            let equipmentRequirements = document.getElementById('equipment_requirements').value;
            let materialRequirements = document.getElementById('material_requirements').value;
            let humanResources = document.getElementById('human_resources').value;
            let healthRequirements = document.getElementById('health_requirements').value;

            // Puedes guardar los datos en un objeto o enviarlos a un servidor según sea necesario
            let courseData = {
                courseName,
                courseDuration,
                instructorName,
                courseLocation,
                courseDate,
                participantProfile,
                numParticipants,
                generalObjective,
                specificObjective,
                diagnosticEval,
                formativeEval,
                summativeEval,
                satisfactionEval,
                openingActivity,
                developmentActivity,
                closingActivity,
                spaceRequirements,
                equipmentRequirements,
                materialRequirements,
                humanResources,
                healthRequirements
            };

            console.log(courseData);
            alert('Datos guardados correctamente.');
        });

        // Función para generar un archivo PDF
        document.getElementById('generate_pdf').addEventListener('click', function() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.text('Carta Descriptiva EC0301', 10, 10);
            doc.text('Nombre del Curso: ' + document.getElementById('course_name').value, 10, 20);
            doc.text('Duración: ' + document.getElementById('course_duration').value, 10, 30);
            doc.text('Instructor: ' + document.getElementById('instructor_name').value, 10, 40);
            doc.save('carta_descriptiva_ec0301.pdf');
        });

        // Validación de completitud del formulario
        function validateForm() {
            const requiredFields = [
                'course_name', 'course_duration', 'instructor_name', 'course_location', 'course_date', 
                'participant_profile', 'num_participants', 'general_objective', 'specific_objective', 
                'diagnostic_evaluation', 'formative_evaluation', 'summative_evaluation', 'satisfaction_evaluation', 
                'opening_activity', 'development_activity', 'closing_activity', 'space_requirements', 
                'equipment_requirements', 'material_requirements', 'human_resources', 'health_requirements'
            ];

            let isComplete = true;
            requiredFields.forEach(function(field) {
                if (!document.getElementById(field).value) {
                    isComplete = false;
                }
            });

            if (isComplete) {
                alert('Formulario completado al 100%. ¡Puedes generar el PDF!');
            } else {
                alert('Por favor completa todos los campos.');
            }
        }
    </script>
</body>
</html>
